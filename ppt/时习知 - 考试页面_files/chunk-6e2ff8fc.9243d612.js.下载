(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e2ff8fc"],{5963:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("traineeInfo")],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$store.state.examData?a("div",{class:{needToVerify:e.needToVerify},attrs:{id:"start-exam"}},[e.needToVerify?e._e():a("traineeInfoHeader"),e.needToVerify?a("examVerifyHeaderExamTime",{on:{jumpToInfoPage:e.jumpToInfoPage}}):e._e(),a("Layout",[a("a-spin",{attrs:{spinning:e.loading}},[e.needToVerify?e._e():a("div",{staticClass:"examinfo-header"}),a("div",{staticClass:"input-info"},[e.needToVerify&&e.$store.state.examData?a("verifyStepComp",{attrs:{verifyInfo:e.$store.state.examData,verifyStep:-1,result:{},inTraineeInfo:""}}):e._e(),a("div",{staticClass:"info-title"},[a("h1",[e._v(e._s(e.$t("examUserInfo.Identification")))])]),e.isInputByAdmin?a("div",{staticClass:"tips-content"},[a("span",{staticClass:"warn"},[e._v("!")]),a("span",[e._v(e._s(e.$t("examUserInfo.configText")))])]):e._e(),a("a-form",{staticClass:"info-form",attrs:{form:e.form,"label-col":{span:4,offset:5},"wrapper-col":{span:14}},on:{submit:e.handleSubmit}},[e._l(e.formData,(function(t,n){return a("div",{key:n},[1!=t.inputBy&&1==t.userVisible?a("a-form-item",{attrs:{label:t.attrName}},[2!=t.inputBy||e.$route.query.identifyCode||t.attrValue?[0===t.inputType?a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[""+t.id,{initialValue:t.attrValue,rules:[{required:1==t.isMandatory||2==t.isMandatory,message:e.$t("tipRequired")},{validator:"$telephone"===t.attrCode?e.telephoneValidate:null,trigger:"blur"},{validator:"$email"===t.attrCode?e.emailValidate:null,trigger:"blur"},{validator:"$user_code"===t.attrCode?e.userCodeValidate:null,trigger:"blur"}]}],expression:"[\n                                        `${item.id}`,\n\n                                        {\n                                            initialValue: item.attrValue,\n                                            rules: [\n                                                {\n                                                    required: item.isMandatory == 1 || item.isMandatory == 2,\n                                                    message: $t('tipRequired')\n                                                },\n                                                {\n                                                    validator:\n                                                        item.attrCode === '$telephone' ? telephoneValidate : null,\n                                                    trigger: 'blur'\n                                                },\n                                                {\n                                                    validator: item.attrCode === '$email' ? emailValidate : null,\n                                                    trigger: 'blur'\n                                                },\n                                                {\n                                                    validator:\n                                                        item.attrCode === '$user_code' ? userCodeValidate : null,\n                                                    trigger: 'blur'\n                                                }\n                                            ]\n                                        }\n                                    ]"}],staticClass:"info-input",attrs:{disabled:3!=t.inputBy,maxLength:t.maxLength,placeholder:e.$t("examUserInfo.pleaseInput")+t.attrName,autoComplete:"off"}}):e._e(),1===t.inputType?a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[""+t.id,{initialValue:0==Number(t.attrValue)?1:Number(t.attrValue),rules:[{required:t.isMandatory,message:e.$t("tipRequired")}]}],expression:"[\n                                        `${item.id}`,\n                                        {\n                                            initialValue: Number(item.attrValue) == 0 ? 1 : Number(item.attrValue),\n                                            rules: [{ required: item.isMandatory, message: $t('tipRequired') }]\n                                        }\n                                    ]"}],staticClass:"info-select",attrs:{disabled:3!=t.inputBy,placeholder:e.$t("examUserInfo.configText")}},e._l(t.enumValues,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1):e._e()]:[a("span",{directives:[{name:"decorator",rawName:"v-decorator",value:[""+t.id,{rules:[{required:1==t.isMandatory||2==t.isMandatory,message:" "}]}],expression:"[\n                                        `${item.id}`,\n                                        {\n                                            rules: [\n                                                {\n                                                    required: item.isMandatory == 1 || item.isMandatory == 2,\n                                                    message: ' '\n                                                }\n                                            ]\n                                        }\n                                    ]"}],staticClass:"only"},[e._v(e._s(e.$t("examUserInfo.onlyAdmin")))])]],2):e._e()],1)})),a("a-form-item",{attrs:{"wrapper-col":{offset:10}}},[a("div",[a("span",{staticClass:"click-agree",on:{click:e.clickAgree}},[a("a-radio",{attrs:{checked:e.checked}}),a("span",[e._v(e._s(e.$t("examContent.step.argree")))])],1),a("span",{staticClass:"document click-agree",on:{click:e.clickDocument}},[e._v(e._s(e.$t("examContent.step.privacyAgreement")))])])]),a("div",{staticStyle:{"text-align":"center"}},[e.startAnswer&&!e.$route.query.identifyCode?a("a-button",{staticClass:"submit-btn ant-btn-disabled",attrs:{type:"primary","html-type":"submit",disabled:!e.requiredIsInputed||e.startAnswer&&!e.$route.query.identifyCode,loading:e.startLoading}},[e._v(" "+e._s(e.needToVerify?e.$t("next"):e.$t("examContent.step.startAnswer")))]):e.requiredIsInputed?a("a-button",{staticClass:"submit-btn",attrs:{type:"primary","html-type":"submit"}},[e._v(" "+e._s(e.needToVerify?e.$t("next"):e.$t("examContent.step.startAnswer")))]):a("a-button",{staticClass:"submit-btn ant-btn-disabled",on:{click:function(t){e.$messageInfo(e.$t("disabledButtonTips.fillInMandatoryInformation"))}}},[e._v(" "+e._s(e.needToVerify?e.$t("next"):e.$t("examContent.step.startAnswer")))])],1)],2)],1)])],1),a("a-modal",{attrs:{centered:!0,width:400,title:e.$t("hint")},on:{ok:e.okBack,cancel:e.okBack},model:{value:e.backVisible,callback:function(t){e.backVisible=t},expression:"backVisible"}},[a("div",{staticClass:"switch-screen-back"},[e._v(e._s(e.$t("examUserInfo.configText")))])]),a("document",{ref:"document"}),a("EnjoyDocument",{ref:"enjoyDocument"})],1):e._e()},s=[],o=a("ca00"),u=a("0950"),d=a("39f0"),l=a("5cff"),c=a("4601"),m=a("f5b2d"),f=a("128d"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("examVerifyHeader",{attrs:{examStartSeconds:e.examStartSeconds},on:{jumpToInfoPage:function(t){return e.$emit("jumpToInfoPage")}}})},p=[],y=a("f24b"),v={components:{examVerifyHeader:y["a"]},data:function(){return{examStartSeconds:0,examStartInterval:null}},mounted:function(){var e=this.$route.query.sessionId||"",t=0;if(e){var a=this.$store.state.examData.sessionList.find((function(t){return t.id===e}));a&&(t=a.countdown)}else t=this.$store.state.examData.countdown;var n=(Number(new Date)-Number(this.$store.state.examDataTimrstamp))/1e3;t-=Math.floor(n),t&&t>0&&this.handleExamStartTime(t)},beforeDestroy:function(){this.examStartInterval&&clearInterval(this.examStartInterval)},methods:{handleExamStartTime:function(e){var t=this;(!e||e<=0)&&(this.examStartSeconds=0),this.examStartSeconds=e,this.examStartInterval&&clearInterval(this.examStartInterval);var a=e;this.examStartInterval=setInterval((function(){a--,a<=0?(clearInterval(t.examStartInterval),t.examStartSeconds=0):t.examStartSeconds=a}),1e3)}}},x=v,b=a("2877"),g=Object(b["a"])(x,h,p,!1,null,null,null),I=g.exports,C=a("f78a"),V=[{name:"Male",id:1},{name:"Female",id:2},{name:"Secret",id:3}],$={name:"traineeInfo",computed:{isEn:function(){return"en"===this.$i18n.locale},needToVerify:function(){return this.$store.state.examData.isAllowIdAuth||this.$store.state.examData.isAllowCamera||this.$store.state.examData.isAllowScreenRecord},isInputByAdmin:function(){return this.$openFlag&&this.formData.some((function(e){return 2==e.inputBy}))&&!this.$route.query.identifyCode},isEnjoy:function(){return!(!this.$store.state.enjoy.enjoy||"1"!==this.$store.state.enjoy.enjoy.version)}},data:function(){return{loading:!1,examName:this.$route.params.examName,formLayout:"horizontal",form:this.$form.createForm(this,{name:"coordinated",onValuesChange:this.onValuesChange}),formData:[],checked:!1,backVisible:!1,selectArr:[],startAnswer:!0,examId:"",requiredIsInputed:!1,startLoading:!1}},created:function(){if(this.$store.state.isClickStartBth){var e=this.$route.query.examId.includes("/");this.examId=e?this.$route.query.examId.split("/")[0]:this.$route.query.examId,this.getUserList()}else this.jumpToInfoPage()},methods:{onValuesChange:function(){this.handleVerifyRequiredIsInputed()},handleVerifyRequiredIsInputed:function(){var e=this;this.$nextTick((function(){var t=e.form.getFieldsValue(),a=e.formData.filter((function(e){return 0===e.inputType&&3===e.inputBy&&(1===e.isMandatory||2===e.isMandatory)}));e.requiredIsInputed=!a.length||a.every((function(e){return t&&(t[e.id]||0===t[e.id])}))}))},jumpToInfoPage:function(){this.$router.push({name:"examInfoOpen",query:this.$route.query})},getQuerryData:function(){var e={identifyCode:this.$route.query.identifyCode,sessionId:this.$route.query.sessionId,examId:this.examId};return e},getUserList:function(){var e=this,t=this.getQuerryData();Object(d["u"])(t).then((function(t){200===t.code?(e.formData=t.data.result,e.formData&&e.formData.length&&(e.formData.forEach((function(t){if(e.isEn){var a=t.attrCode.substr(1,1).toUpperCase();t.attrName=a+t.attrCode.substr(2),"User_name"===t.attrName&&(t.attrName="Name"),"User_code"===t.attrName&&(t.attrName="Candidate ID")}1===t.inputType&&(t.enumValues=JSON.parse(t.enumValues),"Sex"===t.attrName&&(t.attrName="Gender",t.enumValues=V),e.selectArr.push(t)),"$user_code"===t.attrCode||"$user_name"===t.attrCode?t.maxLength=30:"$department"===t.attrCode||"$position"===t.attrCode?t.maxLength=50:t.maxLength=200})),e.startAnswer=e.formData.some((function(e){return 2==e.inputBy&&!e.attrValue})),e.handleVerifyRequiredIsInputed(),e.$ana.upLogOpen({eventType:"view",eventCode:"06020201"}))):e.$messageError(t.message)}))},clickAgree:function(){this.checked=!this.checked},telephoneValidate:function(e,t,a){t?Object(o["i"])(t)?a():a(this.$t("tipPhoneNum")):a()},emailValidate:function(e,t,a){var n=/^([a-zA-Z0-9_\-.]+)@([a-zA-Z0-9_\-.]+)$/;t?n.test(t)?a():a(this.$t("tipEmail")):a()},userCodeValidate:function(e,t,a){var n=/[0-9a-zA-Z_-]{1,}$/;t?n.test(t)?a():a(this.$t("examUserInfo.tipNumber")):a()},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(t.checked){if(!e){if(t.handleValues(a),2==t.$store.state.examContentStatus)return void t.toAnswer();t.submitPublicAjax(a)}}else t.$KaConfirm({content:t.$t("examContent.step.tipCheckPrivacy")})}))},handleValues:function(e){var t=this;return Object.keys(e).forEach((function(a){t.selectArr&&t.selectArr.length&&t.selectArr.forEach((function(t){t.id===a&&t.enumValues&&t.enumValues.length&&t.enumValues.forEach((function(t){t.name===e[a]&&(e[a]=t.id)}))}))})),e},submitPublicAjax:function(e){var t=this,a=this.getQuerryData();a.data=e,this.startLoading=!0,Object(d["I"])(a).then((function(e){200===e.code&&2==e.data.userStatus?t.toFailure(e.data):200===e.code?e.data.identifyCode?(window.localStorage.setItem("accountsInfo_".concat(e.data.id),JSON.stringify(e.data)),t.toAnswer(e.data.identifyCode)):t.backVisible=!0:t.$messageError(e.message)})).finally((function(){t.startLoading=!1}))},toFailure:function(e){var t={userStatusDesc:e.userStatusDesc||"",examName:this.examName};window.localStorage.setItem("userStatusDescObj",JSON.stringify(t)),this.$router.push({name:"failure"})},okBack:function(){this.backVisible=!1},verifySsoIfToken:function(e){var t=this;return function(a){var n=a.jumpExamFunc;t.startLoading=!0,Object(C["c"])({examId:t.examId,sessionId:t.$route.query.sessionId||""},e).then((function(a){var r=200===Number(a.code)&&a.data;r&&1===a.data.tips?Object(C["a"])({examId:t.examId,sessionId:t.$route.query.sessionId||""},e).then((function(){"function"===typeof n&&n()})):r&&0===a.data.tips&&"function"===typeof n&&n()})).finally((function(){t.startLoading=!1}))}},toAnswer:function(e){var t=this;this.verifySsoIfToken(e)({jumpExamFunc:function(){t.handleDoToAnswer(e)}})},handleDoToAnswer:function(e){this.$store.commit("setIsClickStartBth",!0),this.$router.replace({name:"examContent",query:Object(o["a"])({examId:this.examId,sessionId:this.$route.query.sessionId||"",identifyCode:e,source:"open"}),params:{examName:this.$route.params.examName,isChecked:!0}})},jumpToUrl:function(){var e="";return e="".concat(location.origin,"/portal/").concat(this.$route.params.schoolId),e},clickDocument:function(){this.isEnjoy?this.$refs.enjoyDocument.show():this.$refs.document.show()}},components:{Layout:u["a"],traineeInfoHeader:m["a"],document:l["a"],verifyStepComp:f["a"],examVerifyHeaderExamTime:I,EnjoyDocument:c["a"]}},k=$,w=(a("f5b4"),Object(b["a"])(k,i,s,!1,null,"52bcf05e",null)),A=w.exports,j={components:{traineeInfo:A}},D=j,q=Object(b["a"])(D,n,r,!1,null,null,null);t["default"]=q.exports},bb3b:function(e,t,a){e.exports=a.p+"static_klt_2022_03_25_22_28_03_OUTER/img/logo_huawei.48ae36ea.png"},d40c:function(e,t){e.exports="data:image/png;base64,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"},d86d:function(e,t,a){},e705:function(e,t,a){},f5b2d:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"traineeInfo-prompt"}},[a("div",{staticClass:"content"},[a("img",{staticClass:"logo",attrs:{src:e.isEnjoy?e.enjoyLogo:e.logoUrl,alt:"",srcset:""}}),e.examName?a("div",{staticClass:"exam-name",attrs:{title:e.examName}},[e._v(" "+e._s(e.examName)+" ")]):e._e(),"examInfoOpen"!==e.$route.name?a("a-button",{staticClass:"ant-btn",on:{click:e.handleClick}},[e._v(e._s(e.$t("exit")))]):e._e()],1)])},r=[],i={props:{isBack:{type:Boolean,default:!1},examName:{type:String,default:""}},data:function(){return{isEnjoy:!1,logoUrl:"",enjoyLogo:a("bb3b")}},computed:{},created:function(){var e=this;this.$store.dispatch("enjoy/getEnjoyMsg").then((function(t){t&&(e.isEnjoy="1"===t.version,"1"===t.version&&t.logoUrl&&(e.enjoyLogo=t.logoUrl))})),this.logoUrl=a("d40c")},methods:{handleClick:function(){this.isBack?this.$router.go(-1):"examInfoOpen"!==this.$route.name&&this.$router.push({name:"examInfoOpen",query:this.$route.query})}}},s=i,o=(a("f8e2"),a("2877")),u=Object(o["a"])(s,n,r,!1,null,"69ae4837",null);t["a"]=u.exports},f5b4:function(e,t,a){"use strict";a("e705")},f8e2:function(e,t,a){"use strict";a("d86d")}}]);